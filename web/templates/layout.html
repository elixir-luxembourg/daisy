{% load static %}

<!doctype html>
<html lang="en" class="h-100">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="version" content="{{ app_version }}">

    <!-- Material Design for Bootstrap fonts and icons -->
    <link rel="stylesheet" href="{% static 'css/gfonts.css' %}">

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favico/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favico/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favico/favicon-16x16.png' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favico/favicon.ico' %}"/>
    <link rel="manifest" href="{% static 'images/favico/site.webmanifest' %}">

    <!-- Material Design for Bootstrap CSS -->
    <link href="{% static 'vendor/node_modules/select2/dist/css/select2.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'vendor/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css' %}"
          rel="stylesheet"/>
    <link href="{% static 'vendor/node_modules/select2-bootstrap-theme/dist/select2-bootstrap.min.css' %}"
          rel="stylesheet"/>
    <link href="{% static 'vendor/node_modules/jquery-ui-dist/jquery-ui.css' %}"
          rel="stylesheet"/>
    <link href="{% static 'css/daisy.css' %}" rel="stylesheet" type="text/css"/>
    <!-- DataTable -->
    <link href="{% static 'vendor/node_modules/datatables.net-dt/css/jquery.dataTables.css' %}" rel="stylesheet"/>

    {% block head_end %}{% endblock %}
    <title>DAISY</title>

    {% if instance_primary_color %}
    <style>
        .bg-primary {
            background-color: {{ instance_primary_color }} !important;
        }
    </style>
    {% endif %}
</head>
<body class="d-flex flex-column h-100">

{% block navbar %}
{% include 'navbar.html' %}
{% endblock %}

<main class="flex-grow-1">
    <div class="container px-0 mt-3">
        {% block messages %}
            {% if messages %}
            <div class="messages">
                {% for message in messages %}
                <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissible fade show shadow-sm rounded">
                    <div class="d-flex align-items-start">
                        <div class="mr-3">
                            {% if message.tags == 'success' %}
                                <i class="material-icons">check_circle</i>
                            {% elif message.tags == 'error' or message.tags == 'danger' %}
                                <i class="material-icons">error</i>
                            {% elif message.tags == 'warning' %}
                                <i class="material-icons">warning</i>
                            {% elif message.tags == 'info' %}
                                <i class="material-icons">info</i>
                            {% endif %}
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">{{ message.tags | title }}</h5>
                            <div>{{ message }}</div>
                        </div>
                        <button type="button" class="close ml-2" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}
        {% endblock %}
    </div>
    {% block container %}
    <div class="{% block containerclass %}container{% endblock containerclass %}">
        {% block content %}{% endblock %}
    </div>
    <div class="floating-buttons">
        {% block floating-buttons %}
        {% endblock %}
    </div>
    {% endblock %}
</main>

<!-- Modal -->
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>

{% block footer %}{% include 'footer.html' %}{% endblock %}

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="{% static 'vendor/node_modules/jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/node_modules/moment/min/moment-with-locales.min.js' %}"></script>
    <script src="{% static 'vendor/node_modules/jsrender/jsrender.min.js' %}"></script>
    <script src="{% static 'vendor/node_modules/popper.js/dist/umd/popper.min.js' %}"></script>
    <script src="{% static 'vendor/node_modules/bootstrap-material-design/dist/js/bootstrap-material-design.min.js' %}"></script>
    <!-- Jquery ui after bootstrap to allow dialog close button to display -->
    <script src="{% static 'vendor/node_modules/jquery-ui-dist/jquery-ui.js' %}"></script>
    <script src="{% static 'vendor/node_modules/select2/dist/js/select2.full.min.js' %}"></script>
    <script src="{% static 'vendor/node_modules/js-cookie/src/js.cookie.js' %}"></script>
    <script src="{% static 'vendor/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js' %}"></script>
    <!-- DataTable -->
    <script src="{% static 'vendor/node_modules/datatables.net/js/jquery.dataTables.js' %}"></script>
    <script src="{% static 'vendor/node_modules/datatables.net-dt/js/dataTables.dataTables.js' %}"></script>

    <script src="{% static 'js/jquery.formset.js' %}"></script>
    <script defer src="{% static 'js/daisy.js' %}"></script>
    <script>$(document).ready(function () {
        $('body').bootstrapMaterialDesign();
    });</script>
{% block js %}
{% endblock js %}

</body>
</html>
